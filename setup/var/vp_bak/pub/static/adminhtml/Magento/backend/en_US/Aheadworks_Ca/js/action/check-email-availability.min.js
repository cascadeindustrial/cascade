define(['mage/translate','jquery','Magento_Ui/js/modal/alert','mageUtils'],function($t,$,alert,utils){'use strict';return function(deferred,data){$.ajax({url:data.validateEmailUrl,type:"POST",data:utils.serialize(data.params),dataType:'json',success:function(response){if(response.error){alert({content:response.message,});deferred.resolve();}
if(response['available_for_'+data.emailType]){deferred.resolve();}else{deferred.reject();}},error:function(response){alert({title:$t('There has been an error'),content:response.statusText,});deferred.resolve();}});};});