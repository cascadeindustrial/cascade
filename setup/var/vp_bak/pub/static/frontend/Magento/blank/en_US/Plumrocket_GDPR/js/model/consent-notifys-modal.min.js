define(['jquery','Magento_Ui/js/modal/modal','mage/storage','mage/translate'],function($,modal,storage,$t){'use strict';return{createModal:function(element,consent){var remindLater=true;var options={'type':'popup','modalClass':'prgdpr-consent-notifys-modal','responsive':true,'innerScroll':true,'title':null,'buttons':[{text:$t('Remind me later'),class:'action remind-later secondary',click:function(){this.closeModal();}},{text:$t('I agree'),class:'action iagree primary',click:function(){remindLater=false;if(consent.cms_page){consent.checkboxLabel=$t('I agree');}
storage.post(consent.agreeUrl,JSON.stringify({'consent':consent}),true);this.closeModal();}}],opened:function($Event){$('header.modal-header',$Event.currentTarget).append($('.prgdpr-consent-notifys-content',$Event.currentTarget));$('header.modal-header',$Event.currentTarget).append($('.prgdpr-consent-content-actions',$Event.currentTarget));},closed:function(){if(remindLater){storage.post(consent.remindLaterUrl,JSON.stringify({'consent':consent}),true);}}};modal(options,$(element)).openModal();}};});