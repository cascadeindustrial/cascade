<?php /** * @author Aitoc Team * @copyright Copyright (c) 2020 Aitoc (https://www.aitoc.com) * @package Aitoc_ConfigurableProducts */ ?> <input type="hidden" id="products[<?php echo $this->getId() ?>][name]" value="<?php echo htmlspecialchars($this->getProduct()->getName()) ?>" /><input type="hidden" id="products[<?php echo $this->getId() ?>][autogenerate_name]" value="<?php echo htmlspecialchars($this->getProduct()->getAutogenerateName()) ?>" /><input type="hidden" id="products[<?php echo $this->getId() ?>][sku]" value="<?php echo $this->getProduct()->getSku() ?>" /><input type="hidden" id="products[<?php echo $this->getId() ?>][autogenerate_sku]" value="<?php echo $this->getProduct()->getAutogenerateSku() ?>" /><input type="hidden" id="products[<?php echo $this->getId() ?>][weight]" value="<?php echo $this->getProduct()->getWeight() ?>" /><input type="hidden" id="products[<?php echo $this->getId() ?>][price]" value="<?php echo $this->roundPrice($this->getProduct()->getPrice()) ?>" /><input type="hidden" id="products[<?php echo $this->getId() ?>][status]" value="<?php echo $this->getProduct()->getStatus() ?>" /><input type="hidden" id="products[<?php echo $this->getId() ?>][visibility]" value="<?php echo $this->getProduct()->getVisibility() ?>" /><input type="hidden" id="products[<?php echo $this->getId() ?>][stock]" value="<?php echo $this->getStock()->getIsInStock() ?>" /><input type="hidden" id="products[<?php echo $this->getId() ?>][is_changed]" value="<?php echo ($this->getProduct()->getIsChanged()) ? '1' : '0' ?>" /><table cellpadding="0" cellspacing="0"><tr><td class="product-column-header" valign="bottom"><!-- status indicators --><div class="btn" id="product-unchanged-<?php echo $this->getId() ?>"<?php echo ($this->getProduct()->getIsChanged()) ? ' style="display: none;"' : '' ?>><img align="absmiddle" src="<?php echo $this->getViewFileUrl('Aitoc_ConfigurableProducts::images/unchanged.png'); ?>" title="<?php echo __('Product has no changes'); ?>" alt="<?php echo __('Product has no changes'); ?>" /></div><div class="btn" id="product-changed-<?php echo $this->getId() ?>"<?php echo ($this->getProduct()->getIsChanged()) ? '' : ' style="display: none;"' ?>><img align="absmiddle" src="<?php echo $this->getViewFileUrl('Aitoc_ConfigurableProducts::images/changed.png'); ?>" title="<?php echo __('Product has the changes'); ?>" alt="<?php echo __('Product has the changes'); ?>" /></div><div class="btn" id="product-invalid-<?php echo $this->getId() ?>" style="display: none;"><img align="absmiddle" src="<?php echo $this->getViewFileUrl('Aitoc_ConfigurableProducts::images/invalid.png'); ?>" title="<?php echo __('Product is not configured properly'); ?>" alt="<?php echo __('Product is not configured properly'); ?>" /></div><div class="btn" id="product-duplicate-<?php echo $this->getId() ?>" style="display: none;"><img align="absmiddle" src="<?php echo $this->getViewFileUrl('Aitoc_ConfigurableProducts::images/duplicate.png'); ?>" title="<?php echo __('Product is a duplicate of another product'); ?>" alt="<?php echo __('Product is a duplicate of another product'); ?>" /></div><!-- status indicators end --><div class="btn" onclick="ec_configurationForm.open('<?php echo $this->getId() ?>')"><img align="absmiddle" src="<?php echo $this->getViewFileUrl('Aitoc_ConfigurableProducts::images/edit.png'); ?>" title="<?php echo __('Edit'); ?>" alt="<?php echo __('Edit'); ?>" /></div><div class="btn" onclick="ec_helper.deleteProduct('<?php echo $this->getId() ?>')"><img align="absmiddle" src="<?php echo $this->getViewFileUrl('Aitoc_ConfigurableProducts::images/delete.png'); ?>" title="<?php echo __('Delete'); ?>" alt="<?php echo __('Delete'); ?>" /></div><span class="micro-label"><?php echo __('Qty'); ?></span><br /><input type="text" class="input-qty" id="products[<?php echo $this->getId() ?>][qty]" value="<?php echo (float)$this->getStock()->getQty() ?>" onchange="ec_helper.setProductStatus('<?php echo $this->getId() ?>', 'changed')" /></td></tr><tr><td class="column-aitconf"><table width="100%" cellpadding="0" cellspacing="0" id="product-attributes-<?php echo $this->getId() ?>"><?php $r = 0; foreach ($this->getAttributes() as $attribute): ?> <tr class="attribute-row-<?php echo ++$r%2 ?>"><td><fieldset class="ait-fieldset" id="form-product-<?php echo $this->getId() ?>-attribute-<?php echo $attribute->getId() ?>"><table width="100%" cellpadding="0" cellspacing="0"><?php foreach ($attribute->getSource()->getAllOptions(false, true) as $option): ?> <tr><td align="center" class="attribute-value-row ar" onclick="this.down().down().click();"><div><input type="radio" class="rb" name="product-<?php echo $this->getId() ?>-attribute-<?php echo $attribute->getId() ?>" value="<?php echo $option['value'] ?>" <?php echo ($this->getProduct()->getData($attribute->getAttributeCode()) == $option['value']) ? 'checked="checked"':'' ?> onclick="ec_helper.setProductStatus('<?php echo $this->getId() ?>', 'changed'); ec_helper.decorate('<?php echo $this->getId() ?>');" /></div></td></tr><?php endforeach ?></table></fieldset></td></tr><?php endforeach ?></table></td></tr></table>