define(['jquery','prototype'],function(jQuery,prototype){var EC_Progressbar=new Class.create();EC_Progressbar.prototype={blockWindow:null,blockText:null,blockLog:null,initialize:function(){this.blockWindow=$('easyconf-progress');this.blockText=$('easyconf-progress-text');this.blockLog=$('easyconf-progress-log');this.blockWindow.hide();},setText:function(text){this.blockText.update(text);},logSuccess:function(text){this.addLogEntry(text,'success');},logError:function(text){this.addLogEntry(text,'error');},addLogEntry:function(text,status){var _timestamp=new Date().toTimeString().substr(0,8);var cls='log-'+status;var log=new Element('li',{'class':cls}).update('['+_timestamp+']: '+text);this.blockLog.insert(log,{position:"bottom"});$('easyconf-progress-log-container').scrollTop=$('easyconf-progress-log-container').scrollTop+50;},show:function(){this.blockWindow.show();ec_helper.toggleLitebox(true);},hide:function(){ec_helper.toggleLitebox(false);this.blockWindow.hide();this.clear();},clear:function(){this.setText('');this.blockLog.update('');}}
return EC_Progressbar;});